(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{11:function(t,e,n){},14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),c=n(6),i=n.n(c),o=n(3),s=n(2),u=function(){var t=[0,1,2,3,4,5,6,7,8,9],e=[0,1,2,3,4,5,6,7,8,9].map((function(e){return t.map((function(t){return"".concat(e).concat(t)}))})),n=[];return{fullBoard:e,placedShips:n,placeShip:function(t,r,a){var c,i=e[r].slice(a,a+t.length);if(a+t.length>10)throw new Error("Ship Position OverBoard!");if(void 0!==(c=i)&&n.map((function(t){return c.some((function(e){return t.shipCoords.includes(e)}))})).includes(!0))throw new Error("Ship Position Already Taken!");t.shipCoords=i,n.push(t)},receiveAttack:function(t,r){var a=n.find((function(n){return n.shipCoords.includes(e[t][r])}));if("Hit"===e[t][r]||"Miss"===e[t][r])throw new Error("Already Attacked Position");return void 0===a?e[t].splice(r,1,"Miss"):(a.hit(e[t][r]),e[t].splice(r,1,"Hit"))},placedShipsSunk:function(){return n.every((function(t){return t.isSunk()}))}}},l=function(t){var e=[];return{length:t,shipHit:e,shipCoords:undefined,hit:function(t){e.push(t)},isSunk:function(){return e.length===t}}},d=function(t,e){var n=[l(5),l(4),l(3),l(2),l(1)],r=function t(n){var r=Math.floor(10*Math.random()),a=Math.floor(Math.random()*(10-n.length));try{e.placeShip(n,r,a)}catch(c){t(n)}};return{fleet:n,placeFleet:function(){n.map((function(t){return r(t)}))},attackOpp:function(){var e=t.fullBoard.flat().filter((function(t){return"Miss"!==t&&"Hit"!==t})),n=Math.floor(Math.random()*e.length);return t.receiveAttack(e[n][0],e[n][1]),e[n]}}},h=(n(11),n(4)),p=n.n(h),j=n(0),b=function(t){var e=t.board,n=t.attack,r=t.dropPlace,a=t.boardOwner,c=e.placedShips.map((function(t){return t.shipCoords})).flat();function i(t){return"Hit"===t?{backgroundColor:"#e63946"}:"Miss"===t?{backgroundColor:"#4361ee"}:c.includes(t)&&"human"===a?{backgroundColor:"#2a9d8f"}:void 0}return Object(j.jsx)("div",{className:"gameboard",onDragOver:function(t){return t.preventDefault()},onDrop:r,children:e.fullBoard.map((function(t){return t.map((function(t){return Object(j.jsx)("div",{id:t,onClick:n,className:"boardAreaDiv",style:i(t)},p()())}))}))})},f=(n(14),function(t){var e=t.shipLenCheck,n=t.shipLenData;return Object(j.jsx)("div",{className:"shipYard",draggable:"true",onMouseDown:e,children:n.map((function(){return Object(j.jsx)("div",{className:"ship",id:n.length},p()())}))})});n(15);var O=function(){var t=Object(r.useState)((function(){return u()})),e=Object(s.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)((function(){return u()})),i=Object(s.a)(c,2),h=i[0],p=i[1],O=Object(r.useState)(n.placedShips),v=Object(s.a)(O,1)[0],m=Object(r.useState)(void 0),S=Object(s.a)(m,2),g=S[0],k=S[1],x=Object(r.useState)(Array(5).fill(1)),w=Object(s.a)(x,2),A=w[0],y=w[1],C=Object(r.useState)(!1),M=Object(s.a)(C,2),B=M[0],P=M[1],D=Object(r.useState)(!1),N=Object(s.a)(D,2),E=N[0],I=N[1],H=d(n,h),L=function(t){try{var e=t.target.id,r=parseInt(e[0]),c=parseInt(e[1]);a(Object(o.a)({},n),n.placeShip(l(g),r,c)),y(Array(A.length-1).fill(1))}catch(i){alert(i.message)}console.log(t.target)},F=function(t,e){return t.placedShipsSunk()?I("Lose"):e.placedShipsSunk()?I("Win"):void 0};return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{id:"title",children:"BattleShip"}),E?Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:["GAME OVER! You ",E]}),Object(j.jsx)("button",{onClick:function(){window.location.reload()},children:"Play Again"})]}):v.length<5?Object(j.jsxs)("div",{className:"activeBoards",children:[Object(j.jsx)(b,{board:n,dropPlace:L,boardOwner:"human"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h2",{children:["Place Ship ",A.length,": "]}),Object(j.jsx)(f,{shipLenCheck:function(t){k(parseInt(t.target.id))},shipLenData:A})]})]}):B?Object(j.jsxs)("div",{className:"activeBoards",children:[Object(j.jsx)(b,{board:n,dropPlace:L,boardOwner:"human"}),Object(j.jsx)(b,{board:h,attack:function(t){var e=t.target.id,r=parseInt(e[0]),c=parseInt(e[1]);try{a(Object(o.a)({},n),n.fullBoard),p(Object(o.a)({},h),h.receiveAttack(r,c)),H.attackOpp(),F(n,h)}catch(i){alert("Already Attacked Position Try Again!")}}})]}):Object(j.jsxs)("div",{className:"activeBoards",children:[Object(j.jsx)(b,{board:n,dropPlace:L,boardOwner:"human"}),Object(j.jsx)("button",{onClick:function(){p(Object(o.a)({},h),H.placeFleet()),P(!0)},children:"Start Game"})]})]})};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.618079d0.chunk.js.map